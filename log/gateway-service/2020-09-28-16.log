2020-09-28 16:41:50.780  INFO 34064 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-09-28 16:41:52.450  INFO 34064 --- [restartedMain] c.a.n.c.c.impl.LocalConfigInfoProcessor  : LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2020-09-28 16:41:52.481  INFO 34064 --- [restartedMain] c.a.nacos.client.config.impl.Limiter     : limitTime:5.0
2020-09-28 16:41:52.598  WARN 34064 --- [restartedMain] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[gateway-service] & group[DEFAULT_GROUP]
2020-09-28 16:41:53.432  INFO 34064 --- [restartedMain] c.a.nacos.client.config.utils.JVMUtil    : isMultiInstance:false
2020-09-28 16:41:54.289  INFO 34064 --- [restartedMain] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-gateway-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service,DEFAULT_GROUP'}]
2020-09-28 16:41:54.332  INFO 34064 --- [restartedMain] c.x.gateway.XiaoyuGatewayApplication     : The following profiles are active: dev
2020-09-28 16:41:56.512  INFO 34064 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8268ad5f-c1ba-33dd-9354-fd3103aadac5
2020-09-28 16:41:56.581  INFO 34064 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:41:56.582  INFO 34064 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:41:56.587  INFO 34064 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:41:57.222  WARN 34064 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-09-28 16:41:57.222  INFO 34064 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-09-28 16:41:57.229  WARN 34064 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-09-28 16:41:57.230  INFO 34064 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-09-28 16:41:58.933  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2020-09-28 16:41:58.934  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2020-09-28 16:41:58.934  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2020-09-28 16:41:58.934  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2020-09-28 16:41:58.934  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2020-09-28 16:41:58.934  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2020-09-28 16:41:58.934  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2020-09-28 16:41:58.934  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2020-09-28 16:41:58.934  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2020-09-28 16:41:58.935  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-09-28 16:41:58.935  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2020-09-28 16:41:58.935  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2020-09-28 16:41:58.935  INFO 34064 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-09-28 16:42:00.029  INFO 34064 --- [restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-09-28 16:42:00.141  WARN 34064 --- [restartedMain] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.xiaoyu.common.core.handler.NacosConfigHandler': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.cloud.nacos.config.serverAddr' in value "${spring.cloud.nacos.config.serverAddr}"
2020-09-28 16:42:00.220  INFO 34064 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-09-28 16:42:00.260 ERROR 34064 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.xiaoyu.common.core.handler.NacosConfigHandler': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.cloud.nacos.config.serverAddr' in value "${spring.cloud.nacos.config.serverAddr}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:62)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.xiaoyu.gateway.XiaoyuGatewayApplication.main(XiaoyuGatewayApplication.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.cloud.nacos.config.serverAddr' in value "${spring.cloud.nacos.config.serverAddr}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:178)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:124)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:918)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1248)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 23 common frames omitted

2020-09-28 16:46:32.692  INFO 63624 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-09-28 16:46:33.423  INFO 63624 --- [restartedMain] c.a.n.c.c.impl.LocalConfigInfoProcessor  : LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2020-09-28 16:46:33.455  INFO 63624 --- [restartedMain] c.a.nacos.client.config.impl.Limiter     : limitTime:5.0
2020-09-28 16:46:33.519  WARN 63624 --- [restartedMain] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[gateway-service] & group[DEFAULT_GROUP]
2020-09-28 16:46:33.524  INFO 63624 --- [restartedMain] c.a.nacos.client.config.utils.JVMUtil    : isMultiInstance:false
2020-09-28 16:46:33.559  INFO 63624 --- [restartedMain] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-gateway-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service,DEFAULT_GROUP'}]
2020-09-28 16:46:33.575  INFO 63624 --- [restartedMain] c.x.gateway.XiaoyuGatewayApplication     : The following profiles are active: dev
2020-09-28 16:46:34.169  INFO 63624 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8268ad5f-c1ba-33dd-9354-fd3103aadac5
2020-09-28 16:46:34.228  INFO 63624 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:46:34.229  INFO 63624 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:46:34.231  INFO 63624 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:46:34.378  WARN 63624 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-09-28 16:46:34.378  INFO 63624 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-09-28 16:46:34.382  WARN 63624 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-09-28 16:46:34.383  INFO 63624 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-09-28 16:46:34.986  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2020-09-28 16:46:34.986  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2020-09-28 16:46:34.986  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2020-09-28 16:46:34.986  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2020-09-28 16:46:34.986  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2020-09-28 16:46:34.987  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2020-09-28 16:46:34.987  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2020-09-28 16:46:34.987  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2020-09-28 16:46:34.987  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2020-09-28 16:46:34.987  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-09-28 16:46:34.987  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2020-09-28 16:46:34.987  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2020-09-28 16:46:34.987  INFO 63624 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-09-28 16:46:35.166  INFO 63624 --- [restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-09-28 16:46:35.335  INFO 63624 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-09-28 16:46:36.018  INFO 63624 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8887
2020-09-28 16:46:36.300  INFO 63624 --- [restartedMain] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway-service 192.168.2.212:8887 register finished
2020-09-28 16:46:36.317  INFO 63624 --- [restartedMain] c.x.gateway.XiaoyuGatewayApplication     : Started XiaoyuGatewayApplication in 4.411 seconds (JVM running for 5.121)
2020-09-28 16:46:36.342  INFO 63624 --- [restartedMain] c.x.c.core.handler.NacosConfigHandler    : 
spring:
  cloud:
    gateway:
      #gateway 配置解释：
      routes:
        #        # id: 路由名称，标识，唯一
        #        - id: path_route
        #          # uri：转发的目标地址
        #          uri: http://localhost:8887
        #          # predicates: 路由规则
        #          predicates:
        #            # Path: 路径
        #            - Path=/route

        #  通过服务地址
        - id: path_route_lb
          #  gateway-server注册在 nacos 的服务名称，通过服务名称转发。lb://为固定写法，表示开启负载均衡；
          uri: lb://gateway-route
          # predicates: 路由规则
          predicates:
            #/**表示多级路径(path)，如:route/say,route\hi\q 等。
            - Path=/test
                    #  通过服务地址
        - id: path_auth
          #  gateway-server注册在 nacos 的服务名称，通过服务名称转发。lb://为固定写法，表示开启负载均衡；
          uri: lb://auth-service
          # predicates: 路由规则
          predicates:
            #/**表示多级路径(path)，如:route/say,route\hi\q 等。
            - Path=/auth/**

        - id: user_service_id
          uri: lb://user-service
          predicates:
            - Path=/**
                        
ignore:
  urls:
    - /auth/oauth/token
    - 2
    - 3
    - 4
2020-09-28 16:46:36.345  INFO 63624 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service-dev.yaml+DEFAULT_GROUP
2020-09-28 16:46:36.346  INFO 63624 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service-dev.yaml, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:46:36.346  INFO 63624 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service+DEFAULT_GROUP
2020-09-28 16:46:36.346  INFO 63624 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:46:36.347  INFO 63624 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service.yaml+DEFAULT_GROUP
2020-09-28 16:46:36.347  INFO 63624 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service.yaml, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:46:36.363  INFO 63624 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:47:06.059  INFO 63624 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:47:35.569  INFO 63624 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:48:05.084  INFO 63624 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:48:34.587  INFO 63624 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:48:52.375  INFO 65124 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-09-28 16:48:52.809  INFO 65124 --- [restartedMain] c.a.n.c.c.impl.LocalConfigInfoProcessor  : LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2020-09-28 16:48:52.828  INFO 65124 --- [restartedMain] c.a.nacos.client.config.impl.Limiter     : limitTime:5.0
2020-09-28 16:48:52.886  WARN 65124 --- [restartedMain] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[gateway-service] & group[DEFAULT_GROUP]
2020-09-28 16:48:52.891  INFO 65124 --- [restartedMain] c.a.nacos.client.config.utils.JVMUtil    : isMultiInstance:false
2020-09-28 16:48:52.931  INFO 65124 --- [restartedMain] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-gateway-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service,DEFAULT_GROUP'}]
2020-09-28 16:48:52.948  INFO 65124 --- [restartedMain] c.x.gateway.XiaoyuGatewayApplication     : The following profiles are active: dev
2020-09-28 16:48:53.566  INFO 65124 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8268ad5f-c1ba-33dd-9354-fd3103aadac5
2020-09-28 16:48:53.621  INFO 65124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:48:53.622  INFO 65124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:48:53.623  INFO 65124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:48:53.760  WARN 65124 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-09-28 16:48:53.761  INFO 65124 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-09-28 16:48:53.767  WARN 65124 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-09-28 16:48:53.768  INFO 65124 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-09-28 16:48:54.485  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-09-28 16:48:54.486  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2020-09-28 16:48:54.487  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2020-09-28 16:48:54.487  INFO 65124 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-09-28 16:48:54.668  INFO 65124 --- [restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-09-28 16:48:54.829  INFO 65124 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-09-28 16:48:55.147  INFO 65124 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8887
2020-09-28 16:48:55.517  INFO 65124 --- [restartedMain] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway-service 192.168.2.212:8887 register finished
2020-09-28 16:48:55.546  INFO 65124 --- [restartedMain] c.x.gateway.XiaoyuGatewayApplication     : Started XiaoyuGatewayApplication in 3.699 seconds (JVM running for 4.924)
2020-09-28 16:48:55.550  INFO 65124 --- [restartedMain] c.x.c.core.handler.NacosConfigHandler    : 
##############################   Nacos 配置参数打印开始   ##############################

2020-09-28 16:48:55.576  INFO 65124 --- [restartedMain] c.x.c.core.handler.NacosConfigHandler    : 
spring:
  cloud:
    gateway:
      #gateway 配置解释：
      routes:
        #        # id: 路由名称，标识，唯一
        #        - id: path_route
        #          # uri：转发的目标地址
        #          uri: http://localhost:8887
        #          # predicates: 路由规则
        #          predicates:
        #            # Path: 路径
        #            - Path=/route

        #  通过服务地址
        - id: path_route_lb
          #  gateway-server注册在 nacos 的服务名称，通过服务名称转发。lb://为固定写法，表示开启负载均衡；
          uri: lb://gateway-route
          # predicates: 路由规则
          predicates:
            #/**表示多级路径(path)，如:route/say,route\hi\q 等。
            - Path=/test
                    #  通过服务地址
        - id: path_auth
          #  gateway-server注册在 nacos 的服务名称，通过服务名称转发。lb://为固定写法，表示开启负载均衡；
          uri: lb://auth-service
          # predicates: 路由规则
          predicates:
            #/**表示多级路径(path)，如:route/say,route\hi\q 等。
            - Path=/auth/**

        - id: user_service_id
          uri: lb://user-service
          predicates:
            - Path=/**
                        
ignore:
  urls:
    - /auth/oauth/token
    - 2
    - 3
    - 4
2020-09-28 16:48:55.576  INFO 65124 --- [restartedMain] c.x.c.core.handler.NacosConfigHandler    : 
##############################   Nacos 配置参数打印结束   ##############################

2020-09-28 16:48:55.579  INFO 65124 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service-dev.yaml+DEFAULT_GROUP
2020-09-28 16:48:55.580  INFO 65124 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service-dev.yaml, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:48:55.580  INFO 65124 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service+DEFAULT_GROUP
2020-09-28 16:48:55.580  INFO 65124 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:48:55.581  INFO 65124 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service.yaml+DEFAULT_GROUP
2020-09-28 16:48:55.581  INFO 65124 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service.yaml, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:48:55.616  INFO 65124 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:49:25.295  INFO 65124 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:51:07.804  INFO 64724 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-09-28 16:51:08.274  INFO 64724 --- [restartedMain] c.a.n.c.c.impl.LocalConfigInfoProcessor  : LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2020-09-28 16:51:08.293  INFO 64724 --- [restartedMain] c.a.nacos.client.config.impl.Limiter     : limitTime:5.0
2020-09-28 16:51:08.313  WARN 64724 --- [restartedMain] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[gateway-service] & group[DEFAULT_GROUP]
2020-09-28 16:51:08.335  INFO 64724 --- [restartedMain] c.a.nacos.client.config.utils.JVMUtil    : isMultiInstance:false
2020-09-28 16:51:08.386  INFO 64724 --- [restartedMain] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-gateway-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-gateway-service,DEFAULT_GROUP'}]
2020-09-28 16:51:08.414  INFO 64724 --- [restartedMain] c.x.gateway.XiaoyuGatewayApplication     : The following profiles are active: dev
2020-09-28 16:51:09.000  INFO 64724 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8268ad5f-c1ba-33dd-9354-fd3103aadac5
2020-09-28 16:51:09.067  INFO 64724 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:51:09.068  INFO 64724 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:51:09.070  INFO 64724 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-28 16:51:09.220  WARN 64724 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-09-28 16:51:09.221  INFO 64724 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-09-28 16:51:09.224  WARN 64724 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2020-09-28 16:51:09.225  INFO 64724 --- [restartedMain] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-09-28 16:51:09.900  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2020-09-28 16:51:09.901  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2020-09-28 16:51:09.901  INFO 64724 --- [restartedMain] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-09-28 16:51:10.080  INFO 64724 --- [restartedMain] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-09-28 16:51:10.248  INFO 64724 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-09-28 16:51:10.552  INFO 64724 --- [restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8887
2020-09-28 16:51:10.775  INFO 64724 --- [restartedMain] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway-service 192.168.2.212:8887 register finished
2020-09-28 16:51:10.794  INFO 64724 --- [restartedMain] c.x.gateway.XiaoyuGatewayApplication     : Started XiaoyuGatewayApplication in 4.451 seconds (JVM running for 5.215)
2020-09-28 16:51:10.800  INFO 64724 --- [restartedMain] c.x.c.core.handler.NacosConfigHandler    : 
##############################   Nacos 配置参数打印开始   ##############################

spring:
  cloud:
    gateway:
      #gateway 配置解释：
      routes:
        #        # id: 路由名称，标识，唯一
        #        - id: path_route
        #          # uri：转发的目标地址
        #          uri: http://localhost:8887
        #          # predicates: 路由规则
        #          predicates:
        #            # Path: 路径
        #            - Path=/route

        #  通过服务地址
        - id: path_route_lb
          #  gateway-server注册在 nacos 的服务名称，通过服务名称转发。lb://为固定写法，表示开启负载均衡；
          uri: lb://gateway-route
          # predicates: 路由规则
          predicates:
            #/**表示多级路径(path)，如:route/say,route\hi\q 等。
            - Path=/test
                    #  通过服务地址
        - id: path_auth
          #  gateway-server注册在 nacos 的服务名称，通过服务名称转发。lb://为固定写法，表示开启负载均衡；
          uri: lb://auth-service
          # predicates: 路由规则
          predicates:
            #/**表示多级路径(path)，如:route/say,route\hi\q 等。
            - Path=/auth/**

        - id: user_service_id
          uri: lb://user-service
          predicates:
            - Path=/**
                        
ignore:
  urls:
    - /auth/oauth/token
    - 2
    - 3
    - 4
##############################   Nacos 配置参数打印结束   ##############################

2020-09-28 16:51:10.802  INFO 64724 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service-dev.yaml+DEFAULT_GROUP
2020-09-28 16:51:10.803  INFO 64724 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service-dev.yaml, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:51:10.803  INFO 64724 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service+DEFAULT_GROUP
2020-09-28 16:51:10.803  INFO 64724 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:51:10.804  INFO 64724 --- [restartedMain] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] gateway-service.yaml+DEFAULT_GROUP
2020-09-28 16:51:10.804  INFO 64724 --- [restartedMain] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=gateway-service.yaml, group=DEFAULT_GROUP, cnt=1
2020-09-28 16:51:10.812  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:51:40.515  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:52:10.019  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:52:39.522  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:53:09.032  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:53:38.540  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:54:08.050  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:54:37.571  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:55:07.084  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:55:36.593  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:56:06.098  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:56:35.617  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:57:05.122  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:57:34.645  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:58:04.154  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:58:33.665  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:59:03.181  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
2020-09-28 16:59:32.695  INFO 64724 --- [com.alibaba.nacos.client.Worker.longPolling.fixed-localhost_8848] c.a.n.client.config.impl.ClientWorker    : get changedGroupKeys:[]
